<?php



$discord_webhook="https://discord.com/api/webhooks/1080547217380741141/D2E0fPd_tQ1NiI8yYfumazSITYoa7b2RZ-X2dIArq4rlbdUBRQGuN-z7zsHIxjIpe8q_";

date_default_timezone_set('Asia/Tehran');
$date = date('h:i:s a', time());
//echo "<h1>Hello matitanium</h1>";
//echo "<h4>try to ssrf testing set ?ssrf=1</h4>";


function saveRawRequest() {
    // Initialize an empty string to store the request
    $rawRequest = '';

    // Get the request method, URI, and HTTP version
    $rawRequest .= $_SERVER['REQUEST_METHOD'] . ' ' . $_SERVER['REQUEST_URI'] . ' ' . $_SERVER['SERVER_PROTOCOL'] . "\r\n";

    // Loop through the headers and add them to the request
    foreach ($_SERVER as $key => $value) {
        if (strpos($key, 'HTTP_') === 0) {
            $header = str_replace('HTTP_', '', $key);
            $header = str_replace('_', ' ', ucwords(strtolower($header)));
            $rawRequest .= $header . ': ' . $value . "\r\n";
        }
    }

    // Add an extra newline to separate headers from the body
    $rawRequest .= "\r\n";

    // Get the request body (if any)
    $rawRequest .= file_get_contents('php://input');

    return $rawRequest;
}



// Usage example:
$requestData = saveRawRequest();





$message=":warning:\n```Remote Code Execution(RCE) Detected! \nServer IP Adderes: ". $_SERVER['REMOTE_ADDR']. "\nTime: " . $date . "\n\n\nRequest:\n". $requestData."```";





$data = array("username"=> "Bot", "content"=>$message);


 
$options = array( 
    'http' => array( 
    'method' => 'POST', 
    'header' => "Content-Type: application/x-www-form-urlencoded",
    'content' => http_build_query($data)) 
); 






$stream = stream_context_create($options); 
$result = file_get_contents($discord_webhook, false, $stream); 


?>
